<!DOCTYPE html>
<html>
<head>
    <title>Sugar Calculator App V2.1</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'/>
    <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8">
    <style>
        :root {
            --green-bg: #c8e6c9;
            --primary-color: #2196F3;
            --primary-dark: #1976D2;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: #f0f2f5;
        }
        .nav-tabs {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 0 0 8px 0;
        }
        .nav-tab {
            display: inline-block;
            padding: 15px 25px;
            cursor: pointer;
            color: #34495e;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        .nav-tab.active {
            background: #0D47A1;
            color: white;
        }
        .nav-tab:not(.active):hover {
            background: #1976D2;
            color: white;
        }
        .container {
            max-width: 600px;
            margin: 100px auto 20px;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .input-container {
            margin-bottom: 20px;
        }
        input[type="text"], select, input[type="number"] {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }
        #sugarPercent {
            background: var(--green-bg);
        }
        #sugar {
            background: var(--green-bg);
        }
        .button-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 25px;
        }
        button {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--primary-color);
            color: white;
        }
        button:hover {
            background: var(--primary-dark);
        }
        .progress-container {
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .disclaimer {
            margin-top: 25px;
            padding: 15px;
            background: #FFF3E0;
            border-radius: 8px;
            font-size: 0.9em;
            color: #666;
        }
    </style>
    <meta name="description" content="Wan Records - Precision salt and sugar calculators for health-conscious individuals. Calculate, track, and optimize your daily intake with advanced features.">
    <meta name="keywords" content="salt calculator, sugar calculator, health tracking, nutrition, Wan Records, food preservation, recipe optimization">
    <meta name="author" content="Wan Records">
    <meta name="robots" content="index, follow">
</head>
<body>
    <!-- Navigation -->
    <div class="nav-tabs">
        <a href="index.html" class="nav-tab">Salt Calculator</a>
        <div class="nav-tab active">Sugar Calculator</div>
        <a href="features.html" class="nav-tab">Salt Features</a>
        <a href="sugar-features.html" class="nav-tab">Sugar Features</a>
    </div>
    <div class="container">
        <!-- Input Section -->
        <div class="input-container">
            <label id="volumeLabel" for="volume">ENTER BEVERAGE VOLUME (ml/l)</label>
            <input type="text" id="volume" placeholder="e.g., 500ml or 1l">
        </div>
        <div class="input-container">
            <label>Sugar Percentage:
                <input type="number" id="sugarPercent" value="2.52" step="0.01" min="0" max="100">%
            </label>
        </div>
        <div class="input-container">
            <label>CALCULATED SUGAR AMOUNT</label>
            <input type="text" id="sugar" readonly />
        </div>
        <div class="button-container">
            <button onclick="calculateSugar()">Calculate</button>
            <button onclick="resetFields()">Reset</button>
        </div>
        <div class="progress-container" id="progressContainer"></div>
        <div class="disclaimer">
            <strong>Health Note:</strong> WHO recommends less than 25g added sugar daily.<br>
            Â© 2025 WAN RECORDS.
        </div>
    </div>
<script>
    // Set default for Beverages
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('sugarPercent').value = 2.52;
    });

    function calculateSugar() {
        const volumeInput = document.getElementById("volume").value.trim();
        const sugarPercentage = parseFloat(document.getElementById("sugarPercent").value);

        if (!validateInput(volumeInput)) {
            alert("Invalid input format. Use: e.g., 500ml or 1l");
            return;
        }
        if (isNaN(sugarPercentage) || sugarPercentage <= 0) {
            alert("Sugar percentage must be greater than 0");
            return;
        }

        const result = calculateSugarAmount(volumeInput, sugarPercentage);

        document.getElementById("sugar").value =
            `${result.sugarMl.toFixed(2)} ml sugar (${result.percent.toFixed(2)}%)`;

        addProgressBar(result.percent, result.sugarMl);
    }

    function validateInput(volume) {
        return /^[0-9]+(\.[0-9]+)?\s*(ml|l)$/i.test(volume);
    }

    function calculateSugarAmount(input, percentage) {
        const numericValue = parseFloat(input);
        const unit = input.toLowerCase().match(/[a-z]+$/)[0];
        let ml = numericValue;

        if (unit === 'l') {
            ml = numericValue * 1000;
        }
        // Sugar in ml: (percentage of beverage volume)
        const sugarMl = (ml * (percentage / 100));
        return {
            sugarMl: sugarMl,
            percent: percentage
        };
    }

    function addProgressBar(percent, sugarMl) {
        const container = document.getElementById('progressContainer');
        container.innerHTML = '';
        const bar = document.createElement('div');
        bar.className = 'progress-bar';
        bar.innerHTML = `
            <div class="progress-fill" style="width: ${Math.min(percent, 100)}%">
                <div class="progress-text">${percent.toFixed(2)}% (${sugarMl.toFixed(2)} ml)</div>
            </div>
        `;
        container.appendChild(bar);
    }

    function resetFields() {
        document.getElementById("volume").value = '';
        document.getElementById("sugarPercent").value = 2.52;
        document.getElementById("sugar").value = '';
        document.getElementById('progressContainer').innerHTML = "";
    }
</script>
</body>
</html>
